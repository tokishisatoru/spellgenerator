(function(){"use strict";var e={4389:function(e,t,o){var n=o(9242),i=o(3396),r=o(7139);const a=(0,i._)("h1",null,"Spell Generator - NovelAI prompt generator",-1),l={class:"data"},s={class:"cat-list"},d=["onUpdate:modelValue"],c={class:"word-list"},p=["onClick"],u={key:0,class:"edit"},g=["onUpdate:modelValue"],y=["onUpdate:modelValue"],f=["onUpdate:modelValue"],m=(0,i._)("span",{class:"word-priority-label material-icons"},null,-1),h={key:1,class:"text"},w={class:"word-text"},b={class:"word-note-text"},v=["data-priority"],C=["onClick"],_=["onClick"],k=["onClick"],S=["onClick"],x={class:"import"},O=(0,i._)("h2",null,"JSON Import",-1),E={class:"export"},D=(0,i._)("h2",null,"JSON Export",-1),j={class:"reset"},I=(0,i._)("h2",null,"Etc",-1),U={class:"result"};function N(e,t,o,N,V,J){return(0,i.wg)(),(0,i.iD)("form",null,[a,(0,i._)("div",l,[(0,i._)("ul",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(V.categories,((e,o)=>((0,i.wg)(),(0,i.iD)("li",{key:o,class:"cat-container"},[(0,i.wy)((0,i._)("input",{class:"cat-name",type:"text","onUpdate:modelValue":t=>e.name=t,placeholder:"category name"},null,8,d),[[n.nr,e.name]]),(0,i._)("ul",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.words,((e,a)=>((0,i.wg)(),(0,i.iD)("li",{key:a,class:(0,r.C_)(["word-container",{disabled:e.disabled,editing:e.editing}])},[(0,i._)("button",{class:"disable-word-btn material-icons",type:"button",onClick:t=>J.toggleDisabled(e)},null,8,p),e.editing?((0,i.wg)(),(0,i.iD)("div",u,[(0,i.wy)((0,i._)("input",{class:"word",type:"text","onUpdate:modelValue":t=>e.name=t,onInput:t[0]||(t[0]=(...e)=>J.updateSpell&&J.updateSpell(...e)),placeholder:"word"},null,40,g),[[n.nr,e.name]]),(0,i.wy)((0,i._)("input",{class:"word-note",type:"text","onUpdate:modelValue":t=>e.note=t,onInput:t[1]||(t[1]=(...e)=>J.updateSpell&&J.updateSpell(...e)),placeholder:"word note"},null,40,y),[[n.nr,e.note]]),(0,i.wy)((0,i._)("input",{class:"word-priority",type:"number","onUpdate:modelValue":t=>e.priority=t,onChange:t[2]||(t[2]=(...e)=>J.updateSpell&&J.updateSpell(...e)),onInput:t[3]||(t[3]=(...e)=>J.updateSpell&&J.updateSpell(...e)),min:"-9",max:"10"},null,40,f),[[n.nr,e.priority]]),m])):(0,i.kq)("",!0),e.editing?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",w,(0,r.zw)(e.name),1),(0,i._)("div",b,(0,r.zw)(e.note),1),(0,i._)("div",{class:"word-priority-text","data-priority":e.priority},null,8,v)])),(0,i._)("button",{class:"edit-word-btn material-icons",type:"button",onClick:t=>J.toggleEditing(e)},null,8,C),(0,i._)("button",{class:"delete-word-btn material-icons",type:"button",onClick:e=>J.removeWord(o,a)},null,8,_)],2)))),128))]),(0,i._)("button",{class:"add-word-btn material-icons",type:"button",onClick:e=>J.addWord(o)},null,8,k),(0,i._)("button",{class:"delete-cat-btn material-icons",type:"button",onClick:e=>J.removeCategory(o)},null,8,S)])))),128))]),(0,i._)("button",{class:"add-cat-btn material-icons",type:"button",onClick:t[4]||(t[4]=(...e)=>J.addCategory&&J.addCategory(...e))})]),(0,i._)("div",x,[O,V.file?((0,i.wg)(),(0,i.iD)("input",{key:0,id:"import",type:"file",onChange:t[5]||(t[5]=(...e)=>J.dataImport&&J.dataImport(...e))},null,32)):(0,i.kq)("",!0)]),(0,i._)("div",E,[D,(0,i._)("button",{id:"export",type:"button",onClick:t[6]||(t[6]=(...e)=>J.dataExport&&J.dataExport(...e))},"JSON Export")]),(0,i._)("div",j,[I,(0,i._)("button",{id:"reset-btn",type:"button",onClick:t[7]||(t[7]=(...e)=>J.resetData&&J.resetData(...e))},"All reset")]),(0,i._)("div",U,[(0,i.wy)((0,i._)("input",{id:"spell",type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>V.spell=e),placeholder:"spell",onClick:t[9]||(t[9]=(...e)=>J.copySpell&&J.copySpell(...e)),readonly:""},null,512),[[n.nr,V.spell]])])])}o(7658);var V={name:"App",data(){return{categories:[{name:"cat name",words:[{name:"word",note:"word note",priority:0,disabled:!1,editing:!0}]}],spell:"",file:!0}},mounted(){this.$nextTick((function(){localStorage.getItem("categories")&&(this.categories=JSON.parse(localStorage.getItem("categories"))),this.updateSpell()}))},methods:{addCategory(){this.categories.push({name:"cat name",words:[{name:"word",note:"word note",priority:0,disabled:!1,editing:!0}]}),this.saveCategory()},removeCategory(e){this.categories.splice(e,1),this.saveCategory()},addWord(e){this.categories.forEach((function(t,o){console.log(o+"and"+e),o==e&&t.words.push({name:"word",note:"word note",priority:0,disabled:null,editing:!0})})),this.saveCategory()},removeWord(e,t){this.categories.forEach((function(o,n){n==e&&o.words.splice(t,1)})),this.saveCategory()},saveCategory(){localStorage.categories=JSON.stringify(this.categories),this.updateSpell()},updateSpell(){var e="",t="",o="",n=0;this.categories.forEach((function(i){i.words.forEach((function(i){if(!i.disabled){if(t="",o="",i.priority>-10&&i.priority<0)for(n=0;n<-i.priority;n++)t+="[",o+="]";else if(i.priority>0&&i.priority<11)for(n=0;n<i.priority;n++)t+="{",o+="}";e+=t+i.name+o+", "}}))})),this.spell=e},resetData(){this.categories=[{name:"cat name",words:[{name:"word",note:"word note",priority:0,disabled:!1,editing:!0}]}],this.updateSpell(),localStorage.removeItem("categories")},dataImport(e){var t=e.target.files[0],o=[];if(t.size>1e6&&o.push("ファイルサイズを1MB以下にしてください。"),"application/json"!=t.type&&o.push("ファイル形式をjsonにしてください。"),!o.length){var n=this,i=new FileReader;i.onload=function(e){n.categories=JSON.parse(e.target.result),n.saveCategory()},i.readAsText(t)}this.file=!1,this.$nextTick((function(){this.file=!0}))},dataExport(){var e=JSON.stringify(this.categories),t=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(t),n=document.createElement("a");n.href=o,n.download="spell.json",document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)},toggleDisabled(e){e.disabled=!e.disabled,this.saveCategory()},toggleEditing(e){e.editing=!e.editing,this.saveCategory()},copySpell(){navigator.clipboard.writeText(this.spell)}}},J=o(89);const T=(0,J.Z)(V,[["render",N]]);var A=T;(0,n.ri)(A).mount("#app")}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,r){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],r=e[c][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(l=!1,r<a&&(a=r));if(l){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,i,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,r,a=n[0],l=n[1],s=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)o.o(l,i)&&(o.m[i]=l[i]);if(s)var c=s(o)}for(t&&t(n);d<a.length;d++)r=a[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},n=self["webpackChunkspellgenerator"]=self["webpackChunkspellgenerator"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(4389)}));n=o.O(n)})();
//# sourceMappingURL=app.82a47bd4.js.map